{% extends "layout.html" %}
{% block content %}
<h2>Admin Dashboard</h2>

<h3>All Users</h3>
<table border="1">
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Account Number</th>
        <th>Balance</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ user.full_name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.account_number }}</td>
        <td>${{ user.balance }}</td>
    </tr>
    {% endfor %}
</table>

<br><h3>Recent Transactions</h3>
<table border="1">
    <tr>
        <th>Date</th>
        <th>Sender</th>
        <th>Receiver</th>
        <th>Amount</th>
        <th>Type</th>
    </tr>
    {% for tx in transactions %}
    <tr>
        <td>{{ tx.timestamp.strftime("%Y-%m-%d %H:%M:%S") }}</td>
        <td>{{ tx.sender_account }}</td>
        <td>{{ tx.receiver_account }}</td>
        <td>${{ tx.amount }}</td>
        <td>{{ tx.type }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
